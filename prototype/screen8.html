<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/foundation.css" />
    <script src="js/vendor/modernizr.js"></script>
  </head>
  <body>

    <!-- Registration and Login -->
    <form data-abide>
    <div class="row">
      <div class="small-9 columns">
        <span>Registration</span>
      </div>
      <div class="small-3 columns">
        <a href="screen8b.html" class="button small" >Login</a>
      </div>
    </div>

    <!-- Blurb under registration -->
    <div class="row">
      <div class="small-12 columns">
        <p id="text1"></p>
      </div>
    </div>

    <!-- Registration Information -->
    <div class="row">
      <div class="small-3 columns">
        <label for="fName" class="inline">First Name:</span>
      </div>
      <div class="small-9 columns">
        <input type="text" name="fName"/>
      </div>
    </div>

    <div class="row">
      <div class="small-3 columns">
        <label for="lName" class="inline">Last Name:</span>
      </div>
      <div class="small-9 columns">
        <input type="text" name="lName"/>
      </div>
    </div>

    <div class="row">
      <div class="small-3 columns">
        <label for="eName" class="inline">Email:</span>
      </div>
      <div class="small-9 columns">
        <input type="email" name="eName"/>
      </div>
    </div>

    <div class="row">
      <div class="small-3 columns">
        <label for="passName" class="inline">Password:</span>
      </div>
      <div class="small-9 columns password-field">
        <input type="password" name="passName" id="passName" required pattern="[a-zA-Z]+">
        <small class="error" ></small>
      </div>
    </div>

    <div class="row">
      <div class="small-3 columns">
        <label for="confirmName" class="inline">Confirm:</span>
      </div>
      <div class="small-9 columns password-confirmation-field">
        <input type="password" name="confirmName" required pattern="[a-zA-Z]+" data-equalto="passName"/>
        <small class="error" id="passwordMustMatch"></small>
      </div>
    </div>

    <div class="row">
      <div class="small-3 columns">
        <label for="add1" class="inline">Address:</span>
      </div>
      <div class="small-9 columns">
        <input type="text" name="address1"/>
      </div>
    </div>

    <div class="row">
      <div class="small-3 columns">
        <label for="addCity" class="inline">City:</span>
      </div>
      <div class="small-9 columns">
        <input type="text" name="addCity"/>
      </div>
    </div>

    <div class="row">
      <div class="small-3 columns">
        <label for="addZip" class="inline">Zip:</span>
      </div>
      <div class="small-9 columns">
        <input type="text" name="addZip"/>
      </div>
    </div>
    </form>

    <div class="row">
      <div class="small-12 columns">
        <button class="button right" onclick="sendAllVariables()">Save</button>
      </div>
    </div>

    <script>
      function sendAllVariables(){

        $.fn.serializeObject = function()
        {
            var o = {};
            var a = this.serializeArray();
            $.each(a, function() {
                if (o[this.name] !== undefined) {
                    if (!o[this.name].push) {
                        o[this.name] = [o[this.name]];
                    }
                    o[this.name].push(this.value || '');
                } else {
                    o[this.name] = this.value || '';
                }
            });
            return o;
        };

        var formData = $('form').serializeObject();

        console.log(formData);

        $.ajax({
            url: "index8.php",
            type: "POST",
            data: formData,
            dataType: "json",
            success: function (jsonStr) {
                console.log(jsonStr);
                window.location.href = 'screen10.html';
            },
            error: function(response) {
                console.log(response);
                console.log('Test failed!');                  
            }
        });  
      }
    </script>
    
    <script src="js/vendor/jquery.js"></script>
    <script src="js/foundation.min.js"></script>
    <script src="js/foundation/foundation.abide.js"></script>
    <script src="js/textContent.js"></script>
    <script>
      $(document).foundation();
       function staticText(content){
		 $('#text1').html(content.screen8.text1);
		 $('#passwordMustMatch').html(content.screen8.passwordMustMatch);
	   }
    </script>
  </body>
</html>
